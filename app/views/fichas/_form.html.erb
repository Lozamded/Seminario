<%= form_with(model: ficha, local: true) do |f| %>
  <% if ficha.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(ficha.errors.count, "error") %> prohibited this ficha from being saved:</h2>

      <ul>
      <% ficha.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <h2>Persona:</h2><br>

  <div class="field">
    <%= f.label :nombre %>
    <%= f.text_field :nombre, id: :ficha_nombre %>
  </div>

  <div class="field">
    <%= f.label :rut %>
    <%= f.text_field :rut, id: :ficha_rut %>
  </div>

  <div class="field">
    <%= f.label :sexo %>
    <%= f.select :sexo, ['Masculino','Femenino'] %>
  </div>

  <div class="field">
    <%= f.label :edad %>
    <%= f.number_field :edad, id: :ficha_edad %>
  </div>

  <div class="tipo">
    <%= f.label :tipo %>
    <%= f.select :tipo, ['Veterinario Stuka','Veterinario asistente','Oyente','Organización'], {include_blank: "Seleccione"} %>
  </div>

  <div class="field">
    <%= f.label :telefono %>
    <%= f.phone_field :telefono, id: :ficha_telefono %>
  </div>

  <div class="field">
    <%= f.label :direccion %>
    <%= f.text_field :direccion, id: :ficha_direccion %>
  </div>

  <div class="field">
    <%= f.label :comuna %>
    <%= f.text_field :comuna, id: :ficha_comuna %>
  </div>

  <div class="field">
    <%= f.label :email %>
    <%= f.email_field :email, id: :ficha_email %>
  </div>

  <div class="field">
    <% f.label :medio_encuentro %> <strong>Como se entero</strong>
    <%= f.select :medio_encuentro, ['Redes Sociales','Medios masivos de comunicación','Medios de comunicación comunales','comunicaión directa','Letreros y tripticos','otros'] %>
  </div>

  <div class="field">
    <% f.label :medio_encuentro_text %> <strong>Especifique nombre de medio, contacto o red social:</strong>
    <%= f.text_field :medio_encuentro_text, id: :medio_encuentro %>
  </div>

  <h2>Animales:</h2><br>
  
  <h3><strong>Perros</strong></h3><br>

   <div id="perros" >
    <div class="perros-fields">
      <%= f.fields_for :perros do |perro| %>
        <%= render "perros_fields", f: perro %>
      <% end %>
    </div>
  </div>

  <strong>
    <div class="links">
      <%= link_to_add_association 'Añadir otro PERRO', f, :perros,
      'data-association-insertion-node' =>  '.perros-fields',
      'data-association-insertion-method' => 'append', :class => 'btn_regular',
      partial: 'perros_fields' %>
    </div>
  </strong><br>

  <br>
  <h3><strong>Gatos</strong></h3><br>

    <div id="gatos" >
      <div class="gatos-fields">
        <%= f.fields_for :gatos do |gato| %>
          <%= render "gatos_fields", f: gato %>
        <% end %>
      </div>
    </div>

    <strong>
      <div class="links">
        <%= link_to_add_association 'Añadir otro GATO', f, :gatos,
        'data-association-insertion-node' =>  '.gatos-fields',
        'data-association-insertion-method' => 'append', :class => 'btn_regular',
        partial: 'gatos_fields' %>
      </div>
    </strong><br>
  

  <div class="actions"><br><br><br>
    <%= f.submit %> 
  </div>
<% end %>
